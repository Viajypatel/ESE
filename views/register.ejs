<% include ./partials/header.ejs %>
<div class="w-full h-screen bg-white flex items-center justify-center">
  <div class="w-70 bg-white rounded-lg px-8 py-8">
    <h1 class="text-3xl text-center leading-none mb-3 tracking-tighter font-semibold">Create New Account</h1>
    <form id="registrationForm" action="/register" method="post">
      <input class="border-2 block mt-3 w-full px-3 py-1" type="text" name="username" placeholder="Username" required>
      <input class="border-2 block mt-3 w-full px-3 py-1" type="text" name="fullname" placeholder="Full Name" required>
      <input class="border-2 block mt-3 w-full px-3 py-1" type="password" name="password" placeholder="Password" required>
      <input class="border-2 block mt-3 w-full px-3 py-1" type="email" name="email" id="email" placeholder="Email" required>
      <span id="emailError" class="text-red-600 hidden">Invalid email address</span>
      <input class="border-2 block mt-3 w-full px-3 py-1" type="tel" name="contact" id="contact" placeholder="Contact" required>
      <span id="contactError" class="text-red-600 hidden">Invalid mobile number</span>
      <input class="block mt-3 w-full px-3 py-2 bg-red-600 rounded-lg text-white hover:bg-red-700" type="submit" value="Register">
      <p class="font-semibold text-gray-700 mt-6 text-center leading-none">By continuing, you agree to ESE's terms of service.</p>
    </form>
    <a class="inline-block mt-4 text-sm font-semibold w-full text-center text-red-600" href="/">Already have an account</a>
  </div>
</div>
<script>

document.addEventListener("DOMContentLoaded", function () {
            const cartCounter = document.getElementById("cartCounter");

            // Load saved items from local storage
            const savedItems = JSON.parse(localStorage.getItem("cart")) || [];

            // Function to update the cart counter
            function updateCartCounter() {
                cartCounter.textContent = `(${savedItems.length})`; // Update cart counter
                cartCounter.classList.remove("hidden"); // Make cart counter visible
            }

            // Initial cart counter update
            updateCartCounter();
        });


document.getElementById('registrationForm').addEventListener('submit', function(event) {
  // Validate email
  var email = document.getElementById('email').value;
  var emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  if (!emailPattern.test(email)) {
    document.getElementById('emailError').classList.remove('hidden');
    event.preventDefault(); // Prevent form submission
  } else {
    document.getElementById('emailError').classList.add('hidden');
  }

  // Validate mobile number
  var contact = document.getElementById('contact').value;
  var contactPattern = /^\d{10}$/; // Assuming 10-digit mobile number
  if (!contactPattern.test(contact)) {
    document.getElementById('contactError').classList.remove('hidden');
    event.preventDefault(); // Prevent form submission
  } else {
    document.getElementById('contactError').classList.add('hidden');
  }
});


</script>
<% include ./partials/footer.ejs %>
